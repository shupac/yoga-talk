<div class="row main">
  <div class="sequence panel">
    <app-sequence
      [target]="sequence"
      [editable]="true"
      ></app-sequence>
  </div>

  <div class="editor panel" *ngIf="target">
    <app-sequence-detail
      *ngIf="target.type === 'sequence'"
      [target]="target"
      [sortRoot]="sortRoot"
      (sort)="toggleSort($event)"
      (deleteSequence)="deleteSequence($event)"
      >
    </app-sequence-detail>

    <app-series-detail
      *ngIf="target.type === 'series'"
      [target]="target"
      [sortRoot]="sortRoot"
      (sort)="toggleSort($event)"
      (addPose)="addSeriesNode($event)"
      (deleteSeries)="deleteSeries($event)"
      >
    </app-series-detail>

    <app-pose-detail
      *ngIf="target.type === 'pose'"
      [target]="target"
      (deletePose)="deletePose($event)"
      >
    </app-pose-detail>

    <div class="row crumbs" *ngIf="target.type !== 'sequence'">
      <button
        class="btn btn-outline-success"
        (click)="resetEditNode()"
        >Back to Sequence</button>
    </div>
  </div>
</div>

<footer>
  <div class="row">
    <div class="panel">
      <button
        class="btn btn-outline-primary"
        routerLink="preview"
        style="width: 100%"
        >Preview Sequence</button>
    </div>
    <div class="panel" style="text-align: right;">
      <button class="btn btn-success" (click)="saveSequence()">Save Sequence</button>
      <button class="btn btn-secondary" (click)="finish()">Done</button>
    </div>
  </div>
</footer>