<div class="row main">
  <div class="sequence left-panel">
    <app-sequence
      [target]="sequence"
      [editable]="true"
      [showDetails]="showDetails"
      ></app-sequence>
  </div>

  <div class="editor right-panel" *ngIf="target">
    <app-sequence-detail
      *ngIf="target.type === 'sequence'"
      [target]="target"
      [sortRoot]="sortRoot"
      (sort)="toggleSort($event)"
      (deleteSequence)="deleteSequence($event)"
      >
    </app-sequence-detail>

    <app-series-detail
      *ngIf="target.type === 'series'"
      [target]="target"
      [sortRoot]="sortRoot"
      (sort)="toggleSort($event)"
      (addPose)="addSeriesNode($event)"
      (deleteSeries)="deleteSeries($event)"
      >
    </app-series-detail>

    <app-pose-detail
      *ngIf="target.type === 'pose'"
      [target]="target"
      (deletePose)="deletePose($event)"
      >
    </app-pose-detail>

    <div class="row crumbs" *ngIf="target.type !== 'sequence'">
      <button
        class="btn btn-outline-success"
        (click)="resetEditNode()"
        >Back to Sequence</button>
    </div>
  </div>
</div>

<footer>
  <div class="row">
    <div class="left-panel">
      <div class="row left-buttons">
        <div class="col">
          <button
            class="btn btn-outline-primary"
            (click)="toggleDetails()"
            >Toggle Details</button>
        </div>
        <div class="col">
          <button
            class="btn btn-primary"
            routerLink="preview"
            >Preview Sequence</button>
        </div>
      </div>
    </div>
    <div class="right-panel" style="text-align: right;">
      <button class="btn btn-success" (click)="saveSequence()">Save Sequence</button>
      <button class="btn btn-secondary" (click)="finish()">Done</button>
    </div>
  </div>
</footer>